{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>ResPax Test Tool</title>

    <link rel="stylesheet" href={% static "css/bootstrap.min.css" %}>
    <link rel="stylesheet" href={% static "css/bootstrap-table-expandable.css" %}>

    <script src={% static "js/jquery-2.1.4.min.js" %}></script>
    <script src={% static "js/collapsibleTable.js" %}></script>
    <script src={% static "js/table_creation.js" %}></script>
</head>
<body>

<!-- Fixed navbar -->
<nav class="navbar navbar-default navbar-fixed-top">

    <div class="nav navbar-header">
        <a href="https://www.respax.com/"><img id="login-img" src="{% static "img/respax-logo.png" %}"/>
        </a>
    </div>
    <div id="navbar" class="nav">
        <form action="/test_tool/" method="post"> {% csrf_token %}
            <input id="server_url" name="server_url" value="{{ server_url }}" hidden>
            <input id="switch_server_button" name="switch_server_button" value="{{ switch_server_button }}" hidden>
            <ul class="nav navbar-nav">
                <li>
                    <button name="submit" value="switch_server" type="submit"
                            style="text-transform: uppercase">{{ switch_server_button }}</button>
                </li>
            </ul>
        </form>

        <ul class="nav navbar-right">
            <li><a href="/logout/">Log out <span class="sr-only">(current)</span></a></li>
        </ul>
    </div>

</nav>


<div class="container">
    <h1 style="margin-top:110px;">ResPax Test Tool</h1>


    <div class="generate-xml-form">
        <input type="submit" name="submit" value="Generate XML" onclick="generate_xml_request()">

        <input type="submit" name="submit" value="Generate & Submit XML" onclick="">

        <label for="method_name">Method Name:</label>
        <select id="method_name">
            <option>readHostDetails</option>
            <option>readTours</option>
            <option>readTourDetails</option>
            <option>readTourBases</option>
            <option>readTourTimes</option>
            <option>readTourPickups</option>
            <option>readTourPrices</option>
            <option>readTourAvailability</option>
        </select>
        <label id="host_id_label" for="host_id">Host ID:</label>
        <input id="host_id" name="host_id" type="text">

        <label id="tour_code_label" for="tour_code" hidden>Tour Code:</label>
        <input id="tour_code" name="tour_code" type="text" hidden>

        <label id="basis_label" for="basis" hidden>Basis:</label>
        <input id="basis" name="basis" type="text" hidden>

        <label id="sub_basis_label" for="sub_basis" hidden>Sub Basis:</label>
        <input id="sub_basis" name="sub_basis" type="text" hidden>

        <label id="tour_time_id_label" for="tour_time_id" hidden>Tour Time ID:</label>
        <input id="tour_time_id" name="tour_time_id" type="text" hidden>

        <label id="pickup_id_label" for="pickup_id" hidden>Pickup ID:</label>
        <input id="pickup_id" name="pickup_id" type="text" hidden>

        <label id="drop_off_id_label" for="drop_off_id" hidden>Drop Off ID:</label>
        <input id="drop_off_id" name="drop_off_id" type="text" hidden>



        <label id="date_label" for="date" hidden>Date:</label>
        <input id="date" name="date" type="date" hidden>

        <label id="type1_label" for="type1" hidden>Number of Pax Type 1:</label>
        <input id="type1" type="number" hidden>

        <label id="type2_label" for="type2" hidden>Number of Pax Type 2:</label>
        <input id="type2" type="number" hidden>

        <label id="type3_label" for="type3" hidden>Number of Pax Type 3:</label>
        <input id="type3" type="number" hidden>

        <label id="type4_label" for="type4" hidden>Number of Pax Type 4:</label>
        <input id="type4" type="number" hidden>

        <label id="type5_label" for="type5" hidden>Number of Pax Type 5:</label>
        <input id="type5" type="number" hidden>


    </div>

    <div class="XMLRequestArea">
        <label for="xml_request">XML Request</label>
        <input id="server_url" name="server_url" value="{{ server_url }}" hidden>
        <textarea id="xml_request" name="xml_request">

        </textarea>
        <button name="submit" value="xmlrequest" type="submit" onclick="submit_xml_request()">Submit</button>
    </div>
    <div class="XMLRequestArea">
        <label for="xml_response">XML Response</label>
        <br>
        <br>
        <button id="xml_format_button" onclick="change_format('xml')" disabled>XML Format</button>
        <button id="table_format_button" onclick="change_format('table')">Table Format</button>
        <button id="xml_table_format_button" onclick="change_format('xml_table')">XML & Table Format</button>

        <textarea id="xml_response" readonly></textarea>
        <table id="table_response" class="table-response" readonly hidden></table>
    </div>

    <table id="test-tool-table" class="table table-hover table-expandable table-striped">
        <thead>
        <tr>
            <th colspan="3">Operator</th>
        </tr>
        </thead>
        <tbody>

        </tbody>
    </table>

</div>
</body>
</html>


<script type="text/javascript">
    generateTable({{ host_name | safe }}, {{ host_id | safe }}, "{{ server_url | safe }}", "{% static "img/loading.gif" %}");
    $(document).ready(function () {
        $('#method_name').on('change', function () {
            if (this.value == 'readHostDetails'){
                $("#host_id").show();
                $("#host_id_label").show();
                $("#tour_code").hide();
                $("#tour_code_label").hide();
                $("#basis").hide();
                $("#basis_label").hide();
                $("#sub_basis").hide();
                $("#sub_basis_label").hide();
                $("#tour_time_id").hide();
                $("#tour_time_id_label").hide();
                $("#pickup_id").hide();
                $("#pickup_id_label").hide();
                $("#drop_off_id").hide();
                $("#drop_off_id_label").hide();
                $("#date").hide();
                $("#date_label").hide();
                $("#type1").hide();
                $("#type1_label").hide();
                $("#type2").hide();
                $("#type2_label").hide();
                $("#type3").hide();
                $("#type3_label").hide();
                $("#type4").hide();
                $("#type4_label").hide();
                $("#type5").hide();
                $("#type5_label").hide();
            }
            else if(this.value == 'readTours') {
                $("#host_id").show();
                $("#host_id_label").show();
                $("#tour_code").hide();
                $("#tour_code_label").hide();
                $("#basis").hide();
                $("#basis_label").hide();
                $("#sub_basis").hide();
                $("#sub_basis_label").hide();
                $("#tour_time_id").hide();
                $("#tour_time_id_label").hide();
                $("#pickup_id").hide();
                $("#pickup_id_label").hide();
                $("#drop_off_id").hide();
                $("#drop_off_id_label").hide();
                $("#date").hide();
                $("#date_label").hide();
                $("#type1").hide();
                $("#type1_label").hide();
                $("#type2").hide();
                $("#type2_label").hide();
                $("#type3").hide();
                $("#type3_label").hide();
                $("#type4").hide();
                $("#type4_label").hide();
                $("#type5").hide();
                $("#type5_label").hide();
            }
            else if(this.value == 'readTourDetails') {
                $("#host_id").show();
                $("#host_id_label").show();
                $("#tour_code").show();
                $("#tour_code_label").show();
                $("#basis").hide();
                $("#basis_label").hide();
                $("#sub_basis").hide();
                $("#sub_basis_label").hide();
                $("#tour_time_id").hide();
                $("#tour_time_id_label").hide();
                $("#pickup_id").hide();
                $("#pickup_id_label").hide();
                $("#drop_off_id").hide();
                $("#drop_off_id_label").hide();
                $("#date").hide();
                $("#date_label").hide();
                $("#type1").hide();
                $("#type1_label").hide();
                $("#type2").hide();
                $("#type2_label").hide();
                $("#type3").hide();
                $("#type3_label").hide();
                $("#type4").hide();
                $("#type4_label").hide();
                $("#type5").hide();
                $("#type5_label").hide();
            }
            else if(this.value == 'readTourBases') {
                $("#host_id").show();
                $("#host_id_label").show();
                $("#tour_code").show();
                $("#tour_code_label").show();
                $("#basis").hide();
                $("#basis_label").hide();
                $("#sub_basis").hide();
                $("#sub_basis_label").hide();
                $("#tour_time_id").hide();
                $("#tour_time_id_label").hide();
                $("#pickup_id").hide();
                $("#pickup_id_label").hide();
                $("#drop_off_id").hide();
                $("#drop_off_id_label").hide();
                $("#date").hide();
                $("#date_label").hide();
                $("#type1").hide();
                $("#type1_label").hide();
                $("#type2").hide();
                $("#type2_label").hide();
                $("#type3").hide();
                $("#type3_label").hide();
                $("#type4").hide();
                $("#type4_label").hide();
                $("#type5").hide();
                $("#type5_label").hide();
            }
            else if(this.value == 'readTourTimes') {
                $("#host_id").show();
                $("#host_id_label").show();
                $("#tour_code").show();
                $("#tour_code_label").show();
                $("#basis").hide();
                $("#basis_label").hide();
                $("#sub_basis").hide();
                $("#sub_basis_label").hide();
                $("#tour_time_id").hide();
                $("#tour_time_id_label").hide();
                $("#pickup_id").hide();
                $("#pickup_id_label").hide();
                $("#drop_off_id").hide();
                $("#drop_off_id_label").hide();
                $("#date").hide();
                $("#date_label").hide();
                $("#type1").hide();
                $("#type1_label").hide();
                $("#type2").hide();
                $("#type2_label").hide();
                $("#type3").hide();
                $("#type3_label").hide();
                $("#type4").hide();
                $("#type4_label").hide();
                $("#type5").hide();
                $("#type5_label").hide();
            }
            else if(this.value == 'readTourPickups') {
                $("#host_id").show();
                $("#host_id_label").show();
                $("#tour_code").show();
                $("#tour_code_label").show();
                $("#basis").show();
                $("#basis_label").show();
                $("#sub_basis").hide();
                $("#sub_basis_label").hide();
                $("#tour_time_id").show();
                $("#tour_time_id_label").show();
                $("#pickup_id").hide();
                $("#pickup_id_label").hide();
                $("#drop_off_id").hide();
                $("#drop_off_id_label").hide();
                $("#date").show();
                $("#date_label").show();
                $("#type1").hide();
                $("#type1_label").hide();
                $("#type2").hide();
                $("#type2_label").hide();
                $("#type3").hide();
                $("#type3_label").hide();
                $("#type4").hide();
                $("#type4_label").hide();
                $("#type5").hide();
                $("#type5_label").hide();
            }
            else if(this.value == 'readTourPrices') {
                $("#host_id").show();
                $("#host_id_label").show();
                $("#tour_code").show();
                $("#tour_code_label").show();
                $("#basis").show();
                $("#basis_label").show();
                $("#sub_basis").show();
                $("#sub_basis_label").show();
                $("#tour_time_id").show();
                $("#tour_time_id_label").show();
                $("#pickup_id").show();
                $("#pickup_id_label").show();
                $("#drop_off_id").show();
                $("#drop_off_id_label").show();
                $("#date").show();
                $("#date_label").show();
                $("#type1").hide();
                $("#type1_label").hide();
                $("#type2").hide();
                $("#type2_label").hide();
                $("#type3").hide();
                $("#type3_label").hide();
                $("#type4").hide();
                $("#type4_label").hide();
                $("#type5").hide();
                $("#type5_label").hide();
            }
            else if(this.value == 'readTourAvailability') {
                $("#host_id").show();
                $("#host_id_label").show();
                $("#tour_code").show();
                $("#tour_code_label").show();
                $("#basis").show();
                $("#basis_label").show();
                $("#sub_basis").show();
                $("#sub_basis_label").show();
                $("#tour_time_id").show();
                $("#tour_time_id_label").show();
                $("#pickup_id").hide();
                $("#pickup_id_label").hide();
                $("#drop_off_id").hide();
                $("#drop_off_id_label").hide();
                $("#date").show();
                $("#date_label").show();
                $("#type1").hide();
                $("#type1_label").hide();
                $("#type2").hide();
                $("#type2_label").hide();
                $("#type3").hide();
                $("#type3_label").hide();
                $("#type4").hide();
                $("#type4_label").hide();
                $("#type5").hide();
                $("#type5_label").hide();
            }

        });
    });
</script>